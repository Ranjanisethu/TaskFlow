<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TaskFlow - Dashboard</title>
    <link rel="icon" type="image/png" href="https://img.icons8.com/color/48/000000/task-completed.png">
    <link rel="stylesheet" href="css/style.css?v=2">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- SockJS and Stomp via CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sockjs-client/1.6.1/sockjs.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js"></script>
</head>

<body>
    <div id="notification-container"
        style="position: fixed; top: 20px; left: 50%; transform: translateX(-50%); z-index: 1000; display: flex; flex-direction: column; gap: 0.5rem; width: auto; align-items: center;">
    </div>

    <div class="app-container">
        <aside class="sidebar">
            <div class="logo">
                <i class='bx bxs-component'></i> TaskFlow
            </div>
            <ul class="nav-links">
                <li class="nav-item active" onclick="switchView('kanban')">
                    <i class='bx bxs-dashboard'></i> <span data-i18n="nav_tasks">Tasks</span>
                </li>
                <!-- Project Management -->
                <li class="nav-item" onclick="switchView('projects')">
                    <i class='bx bxs-folder-open'></i> <span data-i18n="nav_projects">Projects</span>
                </li>
                <!-- Time Log Removed -->
                <!-- Habit Forming -->
                <li class="nav-item" onclick="switchView('habits')">
                    <i class='bx bxs-flame'></i> <span data-i18n="nav_habits">Habits</span>
                </li>
                <!-- Team Management -->
                <li class="nav-item" onclick="switchView('team')">
                    <i class='bx bxs-group'></i> <span data-i18n="nav_team">Team</span>
                </li>

                <li class="nav-item" onclick="switchView('analytics')">
                    <i class='bx bxs-bar-chart-alt-2'></i> <span data-i18n="nav_analytics">Analytics</span>
                </li>
                <li class="nav-item" onclick="switchView('settings')">
                    <i class='bx bxs-cog'></i> <span data-i18n="nav_settings">Settings</span>
                </li>
            </ul>
            <div class="user-profile">
                <div style="display:flex; align-items:center; gap:0.5rem;">
                    <div class="avatar-placeholder"><i class='bx bxs-user'></i></div>
                    <span id="username-display">User</span>
                </div>
                <button onclick="handleLogout()" class="logout-btn"><i class='bx bx-log-out'></i></button>
            </div>
        </aside>

        <main class="main-content">
            <header class="top-bar" id="main-header">
                <div>
                    <h1 id="page-title" data-i18n="page_title">My Tasks</h1>
                    <p class="subtitle" data-i18n="page_subtitle">Manage code, tasks, and projects.</p>
                </div>
                <div style="display:flex; gap:0.5rem; margin-top:1rem;">
                    <div style="background:var(--glass-bg); padding:0.25rem; border-radius:0.5rem; display:flex;">
                        <button class="btn" id="btn-view-kanban" onclick="setViewMode('kanban')"
                            style="padding:0.5rem; background:var(--primary); color:white; border-radius:0.25rem;"><i
                                class='bx bxs-grid'></i></button>
                        <button class="btn" id="btn-view-list" onclick="setViewMode('list')"
                            style="padding:0.5rem; background:transparent; color:var(--text-muted); border-radius:0.25rem;"><i
                                class='bx bx-list-ul'></i></button>
                    </div>
                    <button onclick="showCreateTaskModal()" class="btn btn-primary">
                        <i class='bx bx-plus'></i> <span data-i18n="btn_new_task">New Task</span>
                    </button>
                </div>
            </header>

            <!-- KANBAN VIEW -->
            <div id="view-kanban" class="view-mode-section active">
                <div class="kanban-board">
                    <div class="kanban-column">
                        <div class="column-header">
                            <span data-i18n="col_todo">To Do</span>
                            <span class="badge" id="count-todo">0</span>
                        </div>
                        <div class="task-list" id="col-TODO" ondrop="drop(event)" ondragover="allowDrop(event)"
                            data-status="TODO">
                            <!-- Tasks -->
                        </div>
                    </div>

                    <div class="kanban-column">
                        <div class="column-header">
                            <span data-i18n="col_inprogress">In Progress</span>
                            <span class="badge" id="count-inprogress">0</span>
                        </div>
                        <div class="task-list" id="col-IN_PROGRESS" ondrop="drop(event)" ondragover="allowDrop(event)"
                            data-status="IN_PROGRESS">
                            <!-- Tasks -->
                        </div>
                    </div>

                    <div class="kanban-column">
                        <div class="column-header">
                            <span data-i18n="col_done">Done</span>
                            <span class="badge" id="count-done">0</span>
                        </div>
                        <div class="task-list" id="col-DONE" ondrop="drop(event)" ondragover="allowDrop(event)"
                            data-status="DONE">
                            <!-- Tasks -->
                        </div>
                    </div>
                </div>
            </div>



            <!-- LIST VIEW (New) -->
            <div id="view-list" class="view-mode-section" style="display:none;">
                <div class="glass-panel" style="padding:0;">
                    <table class="task-table" style="width:100%; border-collapse: collapse;">
                        <thead>
                            <tr style="border-bottom: 1px solid var(--glass-border); text-align: left;">
                                <th style="padding:1rem;">Title</th>
                                <th style="padding:1rem;">Priority</th>
                                <th style="padding:1rem;">Status</th>
                                <th style="padding:1rem;">Due Date</th>
                                <th style="padding:1rem;">Assignee</th>
                            </tr>
                        </thead>
                        <tbody id="task-table-body">
                            <!-- Rows -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- PROJECTS VIEW -->
            <div id="view-projects" class="view-section" style="display:none;">
                <div class="glass-panel" style="padding: 2rem;">
                    <h2>My Projects</h2>
                    <div id="projects-list"
                        style="margin-top: 1rem; display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 1rem;">
                        <!-- Project Cards -->
                    </div>
                </div>
            </div>

            <!-- TIME LOG VIEW REMOVED -->

            <!-- HABITS VIEW -->
            <div id="view-habits" class="view-section" style="display:none;">
                <div class="glass-panel" style="padding: 2rem; text-align: center;">
                    <div style="font-size: 4rem; color: #eab308; margin-bottom: 1rem;"><i class='bx bxs-trophy'></i>
                    </div>
                    <h2 style="font-size: 2rem;">Karma Score</h2>
                    <p class="subtitle">Keep up the streak!</p>
                    <div style="font-size: 3rem; font-weight: 700; margin: 1rem 0;" id="karma-display">0</div>
                    <p style="color: var(--text-muted);">Points earned for completing tasks on time.</p>
                </div>
            </div>

            <!-- TEAM VIEW -->
            <div id="view-team" class="view-section" style="display:none;">
                <div class="glass-panel" style="padding: 2rem;">
                    <h2>Team Members</h2>
                    <div id="team-list" style="margin-top: 1rem; display: flex; flex-direction: column; gap: 1rem;">
                        <!-- Team Users populated via JS -->
                    </div>
                </div>
            </div>

            <!-- ANALYTICS VIEW -->
            <div id="view-analytics" class="view-section" style="display:none;">
                <div class="charts-grid">
                    <div class="glass-panel"
                        style="padding: 2rem; display: flex; flex-direction: column; align-items: center;">
                        <h3>Task Status Distribution</h3>
                        <div style="height: 300px; width: 100%;"><canvas id="statusChart"></canvas></div>
                    </div>
                    <div class="glass-panel"
                        style="padding: 2rem; display: flex; flex-direction: column; align-items: center;">
                        <h3>Task Priority Breakdown</h3>
                        <div style="height: 300px; width: 100%;"><canvas id="priorityChart"></canvas></div>
                    </div>
                </div>
            </div>

            <!-- SETTINGS VIEW (Comprehensive) -->
            <div id="view-settings" class="view-section" style="display:none; height:100%;">
                <div class="glass-panel" style="width:100%; height:100%; padding:0; overflow:hidden;">
                    <div class="settings-container">
                        <!-- Sidebar -->
                        <div class="settings-sidebar" style="padding: 1.5rem;">
                            <h2 style="margin-bottom: 2rem;">Settings</h2>
                            <div id="nav-item-account" class="settings-nav-item active"
                                onclick="switchSettingTab('account')">
                                <i class='bx bxs-user-detail'></i> Account
                            </div>
                            <div id="nav-item-appearance" class="settings-nav-item"
                                onclick="switchSettingTab('appearance')">
                                <i class='bx bxs-palette'></i> Appearance
                            </div>
                            <div id="nav-item-preferences" class="settings-nav-item"
                                onclick="switchSettingTab('preferences')">
                                <i class='bx bxs-toggle-left'></i> Preferences
                            </div>
                            <div id="nav-item-notifications" class="settings-nav-item"
                                onclick="switchSettingTab('notifications')">
                                <i class='bx bxs-bell'></i> Notifications
                            </div>
                            <div id="nav-item-security" class="settings-nav-item"
                                onclick="switchSettingTab('security')">
                                <i class='bx bxs-shield'></i> Security
                            </div>
                            <div id="nav-item-data" class="settings-nav-item" onclick="switchSettingTab('data')">
                                <i class='bx bxs-data'></i> Data & Backup
                            </div>
                            <div id="nav-item-help" class="settings-nav-item" onclick="switchSettingTab('help')">
                                <i class='bx bxs-help-circle'></i> Help
                            </div>
                        </div>

                        <!-- Content Area -->
                        <div class="settings-content" style="padding: 2rem;">

                            <!-- 1. Account -->
                            <div id="setting-account" class="settings-section-view active">
                                <h3>Account Profile</h3>
                                <p class="subtitle" style="margin-bottom: 2rem;">Manage your personal information.</p>
                                <div class="form-group">
                                    <label class="form-label">Display Name</label>
                                    <input type="text" id="setting-displayname" class="form-input" value="User">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Email Address</label>
                                    <input type="email" id="setting-email" class="form-input" value="user@example.com">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Designation</label>
                                    <input type="text" id="setting-designation" class="form-input"
                                        placeholder="e.g. Senior Developer">
                                </div>
                                <button onclick="saveProfile()" class="btn btn-primary">Save Changes</button>

                                <hr style="border:0; border-top:1px solid var(--glass-border); margin: 2rem 0;">

                                <h3 style="color:#ef4444;">Danger Zone</h3>
                                <button onclick="deleteAccount()" class="btn"
                                    style="background:rgba(239, 68, 68, 0.1); color:#ef4444; margin-top:1rem;">Delete
                                    Account</button>
                            </div>

                            <!-- 2. Appearance -->
                            <div id="setting-appearance" class="settings-section-view">
                                <h3>Appearance</h3>
                                <p class="subtitle" style="margin-bottom: 2rem;">Customize your visual experience.</p>

                                <div class="form-group">
                                    <label class="form-label">Theme Mode</label>
                                    <div style="display:flex; gap:1rem; margin-bottom: 1rem;">
                                        <button onclick="setTheme('dark')" class="btn"
                                            style="background:var(--bg-card); border:1px solid var(--glass-border); flex:1;">üåô
                                            Dark</button>
                                        <button onclick="setTheme('light')" class="btn"
                                            style="background:#f1f5f9; color:#0f172a; flex:1;">‚òÄÔ∏è Light</button>
                                    </div>

                                    <label class="form-label">Font Size</label>
                                    <select id="setting-fontsize" class="form-input" style="margin-bottom: 1rem;">
                                        <option value="0.8">Small</option>
                                        <option value="1" selected>Medium</option>
                                        <option value="1.2">Large</option>
                                    </select>

                                    <label class="form-label">Primary Color</label>
                                    <input type="color" id="setting-primarycolor" class="form-input" value="#6366f1"
                                        style="height: 40px; padding: 0;">
                                </div>

                                <button onclick="updateAppearance()" class="btn btn-primary"
                                    style="margin-top: 1rem;">Save
                                    Appearance</button>

                                <div class="form-group">
                                    <label class="form-label">Display Density</label>
                                    <label
                                        style="display:flex; align-items:center; gap:0.5rem; color:var(--text-muted); cursor:pointer;">
                                        <input type="checkbox" id="density-toggle" onchange="toggleDensity()">
                                        Enable Compact Mode
                                    </label>
                                </div>
                            </div>

                            <!-- 3. Preferences -->
                            <div id="setting-preferences" class="settings-section-view">
                                <h3>Task Preferences</h3>
                                <div class="form-group">
                                    <label class="form-label">Default Priority</label>
                                    <select id="pref-default-priority" class="form-input">
                                        <option value="LOW">Low</option>
                                        <option value="MEDIUM" selected>Medium</option>
                                        <option value="HIGH">High</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Language</label>
                                    <select id="pref-language" class="form-input">
                                        <option value="en">English (US)</option>
                                        <option value="es">Spanish</option>
                                        <option value="de">German</option>
                                        <option value="ta">Tamil (‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç)</option>
                                        <option value="hi">Hindi (‡§π‡§ø‡§Ç‡§¶‡•Ä)</option>
                                        <option value="zh">Chinese (‰∏≠Êñá)</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="form-label"
                                        style="display:flex; justify-content:space-between; cursor:pointer;">
                                        Notification on Assignment
                                        <input type="checkbox" id="notif-assignments" checked>
                                    </label>
                                </div>
                                <button onclick="savePreferences()" class="btn btn-primary">Save Preferences</button>
                            </div>

                            <!-- 4. Notifications -->
                            <div id="setting-notifications" class="settings-section-view">
                                <h3>Notifications</h3>
                                <div class="form-group">
                                    <label class="form-label"
                                        style="display:flex; justify-content:space-between; cursor:pointer;">
                                        Task Assignments
                                        <input type="checkbox" id="notif-task-assign" checked>
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label class="form-label"
                                        style="display:flex; justify-content:space-between; cursor:pointer;">
                                        Due Date Reminders
                                        <input type="checkbox" id="notif-due-date" checked>
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label class="form-label"
                                        style="display:flex; justify-content:space-between; cursor:pointer;">
                                        Daily Email Summary
                                        <input type="checkbox" id="notif-email-summary">
                                    </label>
                                </div>
                                <button onclick="saveNotifications()" class="btn btn-primary">Save
                                    Notifications</button>
                            </div>

                            <!-- 5. Security -->
                            <div id="setting-security" class="settings-section-view">
                                <h3>Security</h3>
                                <div class="form-group">
                                    <label class="form-label">Password</label>
                                    <button onclick="changePasswordMock()" class="btn"
                                        style="border:1px solid var(--glass-border); background:transparent;">Change
                                        Password</button>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Two-Factor Authentication (2FA)</label>
                                    <div
                                        style="padding:1rem; border:1px solid var(--glass-border); border-radius:0.5rem; display:flex; justify-content:space-between; align-items:center;">
                                        <span>Protect your account with 2FA</span>
                                        <button class="btn btn-primary"
                                            style="padding:0.25rem 0.75rem; font-size:0.875rem;">Enable</button>
                                    </div>
                                </div>
                                <h4 style="margin-top:2rem;">Active Sessions</h4>
                                <div style="margin-top:1rem; color:var(--text-muted); font-size:0.875rem;">
                                    <div style="padding:0.5rem 0; border-bottom:1px solid var(--glass-border);">Windows
                                        PC - Chrome - Currently Active</div>
                                    <div style="padding:0.5rem 0;">iPhone 13 - Safari - 2 hours ago</div>
                                </div>
                                <button onclick="logoutOtherSessions()" class="btn"
                                    style="margin-top:1rem; border:1px solid var(--glass-border); background:rgba(255,255,255,0.05);">Log
                                    Out Other Sessions</button>
                            </div>

                            <!-- 6. Data -->
                            <div id="setting-data" class="settings-section-view">
                                <h3>Data & Backup</h3>
                                <p class="subtitle">Control your data.</p>
                                <div class="form-group" style="margin-top:2rem;">
                                    <div
                                        style="padding:1.5rem; border:1px solid var(--glass-border); border-radius:0.5rem; margin-bottom: 1rem;">
                                        <h4 style="margin-bottom:0.5rem;">Export Data</h4>
                                        <p style="color:var(--text-muted); margin-bottom:1rem;">Download a JSON copy of
                                            all your tasks and projects.</p>
                                        <button onclick="exportData()" class="btn"
                                            style="background:var(--primary); color:white;">
                                            <i class='bx bxs-download'></i> Download JSON
                                        </button>
                                    </div>

                                    <div
                                        style="padding:1.5rem; border:1px solid var(--glass-border); border-radius:0.5rem;">
                                        <h4 style="margin-bottom:0.5rem;">Import Data</h4>
                                        <p style="color:var(--text-muted); margin-bottom:1rem;">Restore tasks from a
                                            JSON backup file.</p>
                                        <div style="display: flex; gap: 0.5rem;">
                                            <input type="file" id="import-file" class="form-input" accept=".json">
                                            <button onclick="importData()" class="btn btn-primary">Import</button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- 7. Help -->
                            <div id="setting-help" class="settings-section-view">
                                <h3>Help & Support</h3>
                                <div style="margin-top:1rem;">
                                    <p style="margin-bottom:0.5rem;"><a href="pages/user-guide.html"
                                            style="color:var(--primary);">User Guide</a></p>
                                    <p style="margin-bottom:0.5rem;"><a href="pages/support.html"
                                            style="color:var(--primary);">Contact Support</a></p>
                                    <p style="margin-bottom:0.5rem;"><a href="pages/bug-report.html"
                                            style="color:var(--primary);">Report a Bug</a></p>
                                    <p style="color:var(--text-muted); margin-top:2rem;">TaskFlow Pro v1.2.1</p>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Create Task Modal -->
    <div id="create-task-modal"
        style="display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.5); align-items: center; justify-content: center; z-index: 50;">
        <div class="glass-panel"
            style="width: 100%; max-width: 500px; padding: 2rem; max-height: 90vh; overflow-y: auto;">
            <h2 style="margin-bottom: 1.5rem;">Create New Task</h2>
            <form onsubmit="handleCreateTask(event)">
                <div class="form-group"
                    style="margin-bottom: 1rem; padding: 0.5rem; border: 1px dashed var(--glass-border); border-radius: 0.5rem;">
                    <label class="form-label" style="color: var(--primary);">‚ú® Template</label>
                    <select id="task-template" class="form-input" onchange="applyTemplate()">
                        <option value="">-- Choose a Template --</option>
                        <option value="bug">üêõ Bug Report</option>
                        <option value="feature">üöÄ Feature Request</option>
                        <option value="meeting">üìÖ Meeting</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Project</label>
                    <input type="text" id="task-project" class="form-input" placeholder="e.g. Inbox, Website, Marketing"
                        list="project-suggestions">
                    <datalist id="project-suggestions">
                        <option value="Inbox">
                        <option value="Personal">
                        <option value="Work">
                    </datalist>
                </div>
                <div class="form-group">
                    <label class="form-label">Title</label>
                    <input type="text" id="task-title" class="form-input" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Description</label>
                    <textarea id="task-desc" class="form-input" rows="3"></textarea>
                </div>
                <!-- Simple status/priority for now, can be expanded -->
                <div class="form-group">
                    <label class="form-label">Priority</label>
                    <select id="task-priority" class="form-input">
                        <option value="LOW">Low</option>
                        <option value="MEDIUM">Medium</option>
                        <option value="HIGH">High</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">Due Date</label>
                    <input type="datetime-local" id="task-duedate" class="form-input">
                </div>

                <div class="form-group">
                    <label class="form-label">Assign To</label>
                    <select id="task-assign" class="form-input">
                        <!-- Options populated via JS -->
                    </select>
                </div>

                <div style="display: flex; gap: 1rem; justify-content: flex-end; margin-top: 2rem;">
                    <button type="button" onclick="closeCreateTaskModal()" class="btn"
                        style="background: transparent; border: 1px solid var(--glass-border);">Cancel</button>
                    <button type="submit" class="btn btn-primary">Create Task</button>
                </div>
            </form>
        </div>
    </div>

    <!-- View Task Modal -->
    <div id="view-task-modal"
        style="display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.5); align-items: center; justify-content: center; z-index: 50;">
        <div class="glass-panel"
            style="width: 100%; max-width: 600px; padding: 2rem; max-height: 90vh; overflow-y: auto;">
            <div style="display:flex; justify-content:space-between; align-items:start; margin-bottom: 1.5rem;">
                <h2 id="detail-title" style="margin:0;">Task Title</h2>
                <button onclick="closeViewTaskModal()"
                    style="background:none; color:var(--text-muted); font-size:1.5rem;">&times;</button>
            </div>

            <!-- Time Tracking Removed -->

            <div style="margin-bottom: 1.5rem;">
                <label class="form-label">Blocked By (Dependencies)</label>
                <div style="margin-bottom:0.5rem;">
                    <select id="dependency-select" class="form-input" onchange="addDependency()">
                        <option value="">Select a task that blocks this one...</option>
                        <!-- Options filled via JS -->
                    </select>
                </div>
                <div id="detail-dependencies" style="display:flex; flex-wrap:wrap; gap:0.5rem;">
                    <!-- Tags -->
                </div>
            </div>

            <div style="margin-bottom: 1.5rem;">
                <label class="form-label">Description</label>
                <p id="detail-desc" style="color: var(--text-muted); line-height:1.5;">...</p>
            </div>

            <div style="margin-bottom: 1.5rem;">
                <label class="form-label">Subtasks</label>
                <div id="detail-subtasks" style="display:flex; flex-direction:column; gap:0.5rem;">
                    <!-- Checkboxes -->
                </div>
                <div style="margin-top:0.5rem; display:flex; gap:0.5rem;">
                    <input type="text" id="new-subtask-input" class="form-input" placeholder="Add subtask..."
                        style="padding:0.5rem;">
                    <button onclick="addSubTask()" class="btn btn-primary" style="padding:0.5rem;">+</button>
                </div>
            </div>

            <div>
                <label class="form-label">Comments</label>
                <div id="detail-comments"
                    style="max-height: 200px; overflow-y:auto; margin-bottom:1rem; display:flex; flex-direction:column; gap:0.75rem;">
                    <!-- Comments -->
                </div>
                <div style="display:flex; gap:0.5rem;">
                    <input type="text" id="new-comment-input" class="form-input" placeholder="Write a comment..."
                        style="padding:0.5rem;">
                    <button onclick="addComment()" class="btn btn-primary" style="padding:0.5rem;">Post</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Confirm Modal -->
    <div id="confirm-modal"
        style="display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.6); align-items: center; justify-content: center; z-index: 100;">
        <div class="glass-panel" style="width: 100%; max-width: 400px; padding: 2rem; text-align: center;">
            <div style="font-size: 3rem; margin-bottom: 1rem;" id="confirm-icon">‚ö†Ô∏è</div>
            <h2 id="confirm-title" style="margin-bottom: 0.5rem;">Are you sure?</h2>
            <p id="confirm-message" style="color: var(--text-muted); margin-bottom: 2rem;">This action cannot be undone.
            </p>
            <div style="display: flex; gap: 1rem; justify-content: center;">
                <button id="confirm-cancel-btn" class="btn"
                    style="background: transparent; border: 1px solid var(--glass-border);">Cancel</button>
                <button id="confirm-ok-btn" class="btn btn-primary" style="background: #ef4444;">Yes, Proceed</button>
            </div>
        </div>
    </div>

    <!-- Change Password Modal -->
    <div id="password-modal"
        style="display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.6); align-items: center; justify-content: center; z-index: 50;">
        <div class="glass-panel" style="width: 100%; max-width: 400px; padding: 2rem;">
            <h2>Change Password</h2>
            <form onsubmit="handleChangePasswordSubmit(event)">
                <div class="form-group">
                    <label class="form-label">Current Password</label>
                    <input type="password" id="cp-current" class="form-input" required>
                </div>
                <div class="form-group">
                    <label class="form-label">New Password</label>
                    <input type="password" id="cp-new" class="form-input" required>
                </div>
                <div style="display: flex; gap: 1rem; justify-content: flex-end; margin-top: 1.5rem;">
                    <button type="button" onclick="document.getElementById('password-modal').style.display='none'"
                        class="btn"
                        style="background: transparent; border: 1px solid var(--glass-border);">Cancel</button>
                    <button type="submit" class="btn btn-primary">Update</button>
                </div>
            </form>
        </div>
    </div>

    <script src="js/dashboard.js"></script>
</body>

</html>